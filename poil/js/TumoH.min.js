var TumoH=function(e){function t(e){for(var t=e.offsetLeft,o=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,o+=e.offsetTop;return{oLeft:t,oTop:o}}function o(){var e="ontouchstart"in window?!0:!1,t=e?"touchstart":"mousedown",o=e?"touchmove":"mousemove",f=e?"touchend":"mouseup";d.lineCap="round",d.lineJoin="round",d.lineWidth=2*u,d.globalCompositeOperation="destination-out",r.addEventListener(t,function(t){function u(t){clearTimeout(i),t.preventDefault(),x2=e?t.targetTouches[0].pageX-m:t.clientX-r.offsetLeft,y2=e?t.targetTouches[0].pageY-p:t.clientY-r.offsetTop,d.save(),d.moveTo(n,a),d.lineTo(x2,y2),d.stroke(),d.restore(),n=x2,a=y2}clearTimeout(i),t.preventDefault(),n=e?t.targetTouches[0].pageX-m:t.clientX-r.offsetLeft,a=e?t.targetTouches[0].pageY-p:t.clientY-r.offsetTop,d.save(),d.beginPath(),d.arc(n,a,1,0,2*Math.PI),d.fill(),d.restore(),r.addEventListener(o,u),r.addEventListener(f,function(){r.removeEventListener(o,u),i=setTimeout(function(){for(var e=d.getImageData(0,0,r.width,r.height),t=0,o=0;o<e.width;o+=l)for(var n=0;n<e.height;n+=l){var a=4*(n*e.width+o);e.data[a+3]>0&&t++}t/(e.width*e.height/(l*l))<c&&T&&(s(),T=!1)},g)})})}var n,a,i,r=document.getElementById(e.cavId),f=e.ImgSRC,s=e.callBack,e=e||{},u=e.oR||20,c=1-e.maxPro||.8,h=r.parentNode,d=r.getContext("2d"),g=100,l=30;r.width=h.clientWidth,r.height=h.clientHeight;var v=new Image;v.src=f,v.onload=function(){d.drawImage(v,0,0,r.width,r.height),o()};var m=t(r).oLeft,p=t(r).oTop,T=!0};